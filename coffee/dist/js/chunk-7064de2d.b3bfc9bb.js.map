{"version":3,"sources":["webpack:///./src/views/Menu.vue?bbac","webpack:///src/views/Menu.vue","webpack:///./src/views/Menu.vue?d2ce","webpack:///./src/views/Menu.vue","webpack:///./src/views/Menu.vue?59be","webpack:///./src/components/Product.vue?a749","webpack:///./src/components/Product.vue?05ce","webpack:///src/components/Product.vue","webpack:///./src/components/Product.vue?3c79","webpack:///./src/components/Product.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","search","model","value","callback","$$v","expression","_l","item","index","key","class","active","activeIndex","$event","toggleMenuList","type","_v","_s","typeDesc","viewDetail","pid","staticRenderFns","name","data","menuList","products","components","Product","created","getProductType","methods","axios","method","url","getProductByType","params","$router","push","console","log","component","pro","smallImg","enname","price","directives","rawName","deleteProducts","props","Object","default","flag","Boolean"],"mappings":"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","file":"js/chunk-7064de2d.b3bfc9bb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"seach-box\"},[_c('van-search',{attrs:{\"shape\":\"round\",\"placeholder\":\"请输入搜索关键词\"},on:{\"search\":_vm.search},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_c('div',{staticClass:\"menu-box\"},[_c('div',{staticClass:\"menu-list\"},_vm._l((_vm.menuList),function(item,index){return _c('div',{key:index,staticClass:\"menu-list-item\",class:{ active: _vm.activeIndex === index },on:{\"click\":function($event){return _vm.toggleMenuList(index, item.type)}}},[_vm._v(\" \"+_vm._s(item.typeDesc)+\" \")])}),0),_c('div',{staticClass:\"menu-content\"},[_c('div',{staticClass:\"menu-products\"},_vm._l((_vm.products),function(item,index){return _c('div',{key:index,staticClass:\"menu-pro\",on:{\"click\":function($event){return _vm.viewDetail(item.pid)}}},[_c('Product',{attrs:{\"pro\":item}})],1)}),0)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"menu\">\n    <div class=\"seach-box\">\n      <van-search\n        v-model=\"value\"\n        shape=\"round\"\n        placeholder=\"请输入搜索关键词\"\n        @search=\"search\"\n      />\n    </div>\n    <div class=\"menu-box\">\n      <div class=\"menu-list\">\n        <div\n          class=\"menu-list-item\"\n          :class=\"{ active: activeIndex === index }\"\n          v-for=\"(item, index) in menuList\"\n          :key=\"index\"\n          @click=\"toggleMenuList(index, item.type)\"\n        >\n          {{ item.typeDesc }}\n        </div>\n      </div>\n      <div class=\"menu-content\">\n        <div class=\"menu-products\">\n          <div\n            class=\"menu-pro\"\n            v-for=\"(item, index) in products\"\n            :key=\"index\"\n            @click=\"viewDetail(item.pid)\"\n          >\n            <Product :pro=\"item\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Product from \"../components/Product.vue\";\nexport default {\n  name: \"Menu\",\n\n  data() {\n    return {\n      value: \"\",\n      activeIndex: 0,\n      menuList: [],\n      products: [],\n    };\n  },\n\n  //注册组件\n  components: {\n    Product,\n  },\n  \n  // 钩子函数，程序加载完成\n  created() {\n    this.getProductType();\n  },\n\n  // 方法\n  methods: {\n    //获取商品类型\n    getProductType() {\n      //如果是get请求, 参数需要写在params字段, 如果是post请求, 需要把参数写在data字段中\n      this.axios({\n        method: \"get\",\n        url: \"/type\",\n      })\n        .then((res) => {\n          // console.log(\"getProductType res ==> \", res);\n          if (res.data.code === 400) {\n            res.data.result.unshift({ type: \"isHot\", typeDesc: \"热卖推荐\" });\n            this.menuList = res.data.result;\n            // console.log(this.menuList);\n            this.getProductByType(this.menuList[this.activeIndex].type);\n            // console.log( this.menuList[this.activeIndex].type);\n          }\n        })\n        .catch((err) => {\n          console.log(\"err ==> \", err);\n        });\n    },\n\n    //根据商品类型获取商品数据\n    getProductByType(type) {\n      //type: 商品类型\n\n      // console.log('type ==> ', type);\n\n      let key = \"\";\n      let value = \"\";\n\n      if (type === \"isHot\") {\n        key = \"isHot\";\n        value = 1;\n      } else {\n        key = \"type\";\n        value = type;\n      }\n\n      this.axios({\n        method: \"get\",\n        url: \"/typeProducts\",\n        params: {\n          key,\n          value,\n        },\n      })\n        .then((res) => {\n          // console.log('getProductByType res ==> ', res);\n\n          if (res.data.code === 500) {\n            this.products = res.data.result;\n            // console.log(res.data.result);\n          }\n        })\n        .catch((err) => {\n          console.log(\"err ==> \", err);\n        });\n    },\n\n    //切换类型列表\n    toggleMenuList(index, type) {\n      if (this.activeIndex === index) {\n        return;\n      }\n      this.activeIndex = index;\n      //根据商品类型获取商品数据\n      this.getProductByType(type);\n    },\n\n    //点击查看商品详情\n    viewDetail(pid) {\n      this.$router.push({ name: \"Detail\", params: { pid } });\n    },\n    //搜索\n    search() {\n      console.log(this.value);\n      this.axios({\n        method: \"get\",\n        url: \"/search\",\n        params: {\n          name: this.value,\n        },\n      })\n        .then((res) => {\n          console.log(\"getProductType res ==> \", res);\n          if (res.data.code === \"Q001\") {\n            this.$toast(res.data.msg);\n            this.$router.push({\n              name: \"search\",\n              params: { names: this.value },\n            });\n          }\n        })\n        .catch((err) => {\n          console.log(\"err ==> \", err);\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.menu-pro {\n  width: calc(~\"50% - 5px\");\n  margin-right: 10px;\n  margin-bottom: 10px;\n  &:nth-child(2n) {\n    margin-right: 0;\n  }\n}\n.menu-products {\n  display: flex;\n  flex-wrap: wrap;\n}\n.seach-box {\n  position: sticky;\n  top: 0;\n}\n\n.menu-box {\n  position: fixed;\n  top: 54px;\n  right: 0;\n  left: 0;\n  bottom: 50px;\n  display: flex;\n}\n\n.menu-list {\n  width: 80px;\n  height: 100%;\n  font-size: 14px;\n  overflow-y: auto;\n}\n\n.menu-list-item {\n  height: 40px;\n  text-align: center;\n  line-height: 40px;\n}\n\n.menu-list-item.active {\n  background-color: #fff;\n  color: #0c34ba;\n}\n\n.menu-content {\n  flex: 1;\n  height: 100%;\n  background-color: #fff;\n  padding: 10px;\n  box-sizing: border-box;\n  overflow-y: auto;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=40fc8316&scoped=true&\"\nimport script from \"./Menu.vue?vue&type=script&lang=js&\"\nexport * from \"./Menu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Menu.vue?vue&type=style&index=0&id=40fc8316&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40fc8316\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=style&index=0&id=40fc8316&lang=less&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=style&index=0&id=4009f8be&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"product\"},[_c('div',{staticClass:\"product-img\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":_vm.pro.smallImg,\"alt\":\"\"}})]),_c('div',{staticClass:\"product-zhname one-text\"},[_vm._v(_vm._s(_vm.pro.name))]),_c('div',{staticClass:\"product-enname one-text\"},[_vm._v(_vm._s(_vm.pro.enname))]),_c('div',{staticClass:\"product-price\"},[_c('span',{staticClass:\"left\"},[_vm._v(\"¥\"+_vm._s(_vm.pro.price))]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.flag),expression:\"flag\"}],staticClass:\"right bi bi-trash\",on:{\"click\":_vm.deleteProducts}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"product\">\n    <div class=\"product-img\">\n      <img class=\"auto-img\" :src=\"pro.smallImg\" alt=\"\" />\n    </div>\n    <div class=\"product-zhname one-text\">{{ pro.name }}</div>\n    <div class=\"product-enname one-text\">{{ pro.enname }}</div>\n    <div class=\"product-price\">\n      <span class=\"left\">&yen;{{ pro.price }}</span>\n      <span\n        class=\"right bi bi-trash\"\n        @click=\"deleteProducts\"\n        v-show=\"flag\"\n      ></span>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Product\",\n  props: {\n    pro: {\n      type: Object,\n      //默认值, 当属性的值为数组或者对象时, 默认值需要使用函数返回\n      default() {\n        return {};\n      },\n    },\n    flag: {\n      type: Boolean,\n    },\n  },\n  data() {\n    return {};\n  },\n\n  methods: {\n    //删除收藏\n    deleteProducts() {\n      // console.log(this.pro.pid);\n      this.axios({\n        method: \"POST\",\n        url: \"/notlike\",\n        data: {\n          pid: this.pro.pid,\n        },\n      })\n        .then((res) => {\n          this.$emit(\"tab\");\n          // console.log(\"res==>\", res);\n        })\n        .catch((err) => {\n          console.log(\"err ==> \", err);\n        });\n    },\n\n  },\n\n\n};\n</script>\n\n<style lang=\"less\" scoped>\n.product-img {\n  background-color: #e8e8e8;\n}\n\n.product-zhname {\n  font-size: 14px;\n  margin-top: 10px;\n}\n\n.product-enname {\n  margin-top: 3px;\n  color: #999;\n}\n\n.product-price {\n  margin-top: 5px;\n  display: flex;\n  justify-content: space-between;\n  .left {\n    color: #e4393c;\n    font-size: 14px;\n    font-weight: bold;\n  }\n  .right {\n    color: #999;\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Product.vue?vue&type=template&id=4009f8be&scoped=true&\"\nimport script from \"./Product.vue?vue&type=script&lang=js&\"\nexport * from \"./Product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Product.vue?vue&type=style&index=0&id=4009f8be&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4009f8be\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}