{"version":3,"sources":["webpack:///./src/views/MyAddress.vue?42e7","webpack:///./src/views/MyAddress.vue?8fbd","webpack:///src/views/MyAddress.vue","webpack:///./src/views/MyAddress.vue?a9fd","webpack:///./src/views/MyAddress.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","areaList","searchResult","yztel","yzpostal","aInfo","on","onSave","onDelete","onChangeDetail","staticRenderFns","name","components","BackNav","data","user","aid","created","$route","params","enquiry","methods","content","isDefault","axios","method","url","tel","province","city","county","addressDetail","areaCode","postalCode","console","log","phoneReg","test","e","$toast","postalReg","val","component"],"mappings":"2IAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,aAAa,GAAG,YAAY,KAAK,MAAQ,WAAW,GAAGH,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,mBAAmB,CAACG,MAAM,CAAC,YAAYP,EAAIQ,SAAS,cAAc,GAAG,cAAc,GAAG,mBAAmB,GAAG,qBAAqB,GAAG,gBAAgBR,EAAIS,aAAa,2BAA2B,CAAC,MAAO,MAAO,OAAO,gBAAgBT,EAAIU,MAAM,mBAAmBV,EAAIW,SAAS,eAAeX,EAAIY,OAAOC,GAAG,CAAC,KAAOb,EAAIc,OAAO,OAASd,EAAIe,SAAS,gBAAgBf,EAAIgB,mBAAmB,MAC1oBC,EAAkB,G,oCC6BtB,GACEC,KAAM,YACNC,WAAY,CACVC,QAAJ,QAEEC,KALF,WAMI,MAAO,CACLb,SAAN,cACMC,aAAc,GACda,KAAM,GACNC,IAAK,GACLX,MAAO,KAGXY,QAdF,WAeIvB,KAAKsB,IAAMtB,KAAKwB,OAAOC,OAAOH,IAE9BtB,KAAK0B,WAEPC,QAAS,CAEPd,OAFJ,SAEA,GACUe,EAAQC,UACVD,EAAQC,UAAY,EAEpBD,EAAQC,UAAY,EAEtB7B,KAAKqB,KAAOO,EACZ5B,KAAK8B,MAAM,CACTC,OAAQ,OACRC,IAAK,eACLZ,KAAM,CACJE,IAAKtB,KAAKsB,IACVL,KAAMW,EAAQX,KACdgB,IAAKL,EAAQK,IACbC,SAAUN,EAAQM,SAClBC,KAAMP,EAAQO,KACdC,OAAQR,EAAQQ,OAChBC,cAAeT,EAAQS,cACvBC,SAAUV,EAAQU,SAClBC,WAAYX,EAAQW,WACpBV,UAAWD,EAAQC,aAG7B,sBAGA,mBACQ,QAAR,sBAKIf,SAlCJ,WAkCA,WACM0B,QAAQC,IAAI,MACZzC,KAAK8B,MAAM,CACTC,OAAQ,OACRC,IAAK,iBACLZ,KAAM,CACJE,IAAKtB,KAAKsB,OAGpB,kBAEA,oBACU,EAAV,mBAEU,EAAV,mBAGA,mBACQ,QAAR,sBAKII,QAzDJ,WAyDA,WACM1B,KAAK8B,MAAM,CACTC,OAAQ,MACRC,IAAK,oBACLP,OAAQ,CACNH,IAAKtB,KAAKsB,OAGpB,kBACQ,QAAR,kBACQ,IAAR,mBACA,oBAEU,EAAV,OACY,GAAZ,KACY,KAAZ,OACY,IAAZ,MACY,KAAZ,OACY,cAAZ,gBACY,OAAZ,SACY,WAAZ,aACY,UAAZ,YACY,IAAZ,MACY,SAAZ,aAGQ,QAAR,gBAEA,mBACQ,QAAR,sBAIIb,MA1FJ,SA0FA,GAEM,IAAN,kBACM,QAAKiC,EAASC,KAAKC,KACjB5C,KAAK6C,OAAO,aACL,IAMXnC,SArGJ,SAqGA,GACM8B,QAAQC,IAAI,IAAKG,GACjB,IAAN,eACM,QAAKE,EAAUH,KAAKC,KAClB5C,KAAK6C,OAAO,cACL,IAKX9B,eA/GJ,SA+GA,GACMyB,QAAQC,IAAIM,GAEV/C,KAAKQ,aADHuC,EACkB,CAC5B,CACU,KAAV,SACU,QAAV,UAEA,CACU,KAAV,QACU,QAAV,SAEA,CACU,KAAV,gBACU,QAAV,WAI4B,MClLuT,I,wBCQ/UC,EAAY,eACd,EACAlD,EACAkB,GACA,EACA,KACA,WACA,MAIa,aAAAgC,E","file":"js/chunk-0434040a.b7753e3b.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyAddress.vue?vue&type=style&index=0&id=af257fb2&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"aboutme\"},[_c('div',{staticClass:\"head\"},[_c('BackNav',{attrs:{\"left-arrow\":\"\",\"left-text\":\"返回\",\"title\":\"编辑地址\"}})],1),_c('div',{staticClass:\"center\"},[_c('van-address-edit',{attrs:{\"area-list\":_vm.areaList,\"show-postal\":\"\",\"show-delete\":\"\",\"show-set-default\":\"\",\"show-search-result\":\"\",\"search-result\":_vm.searchResult,\"area-columns-placeholder\":['请选择', '请选择', '请选择'],\"tel-validator\":_vm.yztel,\"postal-validator\":_vm.yzpostal,\"address-info\":_vm.aInfo},on:{\"save\":_vm.onSave,\"delete\":_vm.onDelete,\"change-detail\":_vm.onChangeDetail}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"aboutme\">\n    <div class=\"head\">\n      <BackNav left-arrow left-text=\"返回\" title=\"编辑地址\" />\n    </div>\n    <div class=\"center\">\n      <!-- :area-list=\"areaList\" -->\n      <van-address-edit\n        :area-list=\"areaList\"\n        show-postal\n        show-delete\n        show-set-default\n        show-search-result\n        :search-result=\"searchResult\"\n        :area-columns-placeholder=\"['请选择', '请选择', '请选择']\"\n        @save=\"onSave\"\n        @delete=\"onDelete\"\n        @change-detail=\"onChangeDetail\"\n        :tel-validator=\"yztel\"\n        :postal-validator=\"yzpostal\"\n        :address-info=\"aInfo\"\n     \n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport BackNav from \"../components/BackNav.vue\";\nimport { areaList } from \"@vant/area-data\";\nexport default {\n  name: \"MyAddress\",\n  components: {\n    BackNav,\n  },\n  data() {\n    return {\n      areaList,\n      searchResult: [],\n      user: {},\n      aid: \"\",\n      aInfo: {},\n    };\n  },\n  created() {\n    this.aid = this.$route.params.aid;\n    // console.log(this.aid);\n    this.enquiry();\n  },\n  methods: {\n    // 点击保存触发\n    onSave(content) {\n      if (content.isDefault) {\n        content.isDefault = 1;\n      } else {\n        content.isDefault = 0;\n      }\n      this.user = content;\n      this.axios({\n        method: \"post\",\n        url: \"/editAddress\",\n        data: {\n          aid: this.aid,\n          name: content.name,\n          tel: content.tel,\n          province: content.province,\n          city: content.city,\n          county: content.county,\n          addressDetail: content.addressDetail,\n          areaCode: content.areaCode,\n          postalCode: content.postalCode,\n          isDefault: content.isDefault,\n        },\n      })\n        .then((res) => {\n          // console.log(\"res ==> \", res);\n        })\n        .catch((err) => {\n          console.log(\"err ==> \", err);\n        });\n      // console.log(content);\n    },\n    //删除地址\n    onDelete() {\n      console.log(\"dd\");\n      this.axios({\n        method: \"post\",\n        url: \"/deleteAddress\",\n        data: {\n          aid: this.aid,\n        },\n      })\n        .then((res) => {\n          // console.log(\"res ==> \", res);\n          if (res.data.code === 10000) {\n            this.$toast(res.data.msg);\n            //跳转到上一级\n           this.$router.go(-1);\n          }\n        })\n        .catch((err) => {\n          console.log(\"err ==> \", err);\n        });\n    },\n\n    //通过aid查询地址\n    enquiry() {\n      this.axios({\n        method: \"get\",\n        url: \"/findAddressByAid\",\n        params: {\n          aid: this.aid,\n        },\n      })\n        .then((res) => {\n          console.log(\"res ==> \", res);\n          let item = res.data.result[0];\n          if (res.data.code === 40000) {\n            //渲染时需要的数据\n            this.aInfo = {\n              id: item.id,\n              name: item.name,\n              tel: item.tel,\n              city: item.city,\n              addressDetail: item.addressDetail,\n              county: item.county,\n              postalCode: item.postalCode,\n              isDefault: item.isDefault,\n              aid: item.aid,\n              areaCode:item.areaCode\n            };\n          }\n          console.log(this.aInfo);\n        })\n        .catch((err) => {\n          console.log(\"err ==> \", err);\n        });\n    },\n    //验证手机号\n    yztel(e) {\n      // console.log(\"e\", e);\n      let phoneReg = /^1[3-9]\\d{9}$/;\n      if (!phoneReg.test(e)) {\n        this.$toast(\"手机号格式不正确\");\n        return false;\n      } else {\n        return true;\n      }\n    },\n    //验证邮政编码\n    yzpostal(e) {\n      console.log(\"e\", e);\n      let postalReg = /^[0-9]{6}$/;\n      if (!postalReg.test(e)) {\n        this.$toast(\"邮政编码格式不正确\");\n        return false;\n      } else {\n        return true;\n      }\n    },\n    onChangeDetail(val) {\n      console.log(val);\n      if (val) {\n        this.searchResult = [\n          {\n            name: \"黄龙万科中心\",\n            address: \"杭州市西湖区\",\n          },\n          {\n            name: \"海淀北一街\",\n            address: \"北京海淀区\",\n          },\n          {\n            name: \"科技园飞亚达大厦3-10楼\",\n            address: \"深圳市南山区\",\n          },\n        ];\n      } else {\n        this.searchResult = [];\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.aboutme {\n  width: 100%;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyAddress.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyAddress.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyAddress.vue?vue&type=template&id=af257fb2&scoped=true&\"\nimport script from \"./MyAddress.vue?vue&type=script&lang=js&\"\nexport * from \"./MyAddress.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MyAddress.vue?vue&type=style&index=0&id=af257fb2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"af257fb2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}