{"version":3,"sources":["webpack:///./src/views/MeOrders.vue?e0a5","webpack:///src/views/MeOrders.vue","webpack:///./src/views/MeOrders.vue?dff0","webpack:///./src/views/MeOrders.vue","webpack:///./src/views/MeOrders.vue?e2db"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","orderAll","_l","item","index","key","children","scopedSlots","_u","fn","_v","_s","oid","proxy","directives","name","rawName","value","status","expression","$event","affirm","del","staticRenderFns","data","i","active","components","BackNav","Order","component"],"mappings":"yHAAA,I,EAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,aAAa,GAAG,YAAY,KAAK,MAAQ,WAAW,GAAGH,EAAG,MAAM,CAACE,YAAY,OAAOF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,WAAW,CAACG,MAAM,CAAC,OAAS,GAAG,SAAW,GAAG,UAAY,GAAG,MAAQ,WAAWC,GAAG,CAAC,MAAQR,EAAIS,WAAW,CAACL,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,KAAK,KAAO,MAAM,CAACP,EAAIU,GAAIV,EAAc,YAAE,SAASW,EAAKC,GAAO,OAAOR,EAAG,MAAM,CAACS,IAAID,GAAO,CAACR,EAAG,QAAQ,CAACG,MAAM,CAAC,SAAWI,EAAKG,UAAUC,YAAYf,EAAIgB,GAAG,CAAC,CAACH,IAAI,OAAOI,GAAG,WAAW,MAAO,CAACb,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACN,EAAIkB,GAAGlB,EAAImB,GAAGR,EAAKS,UAAUC,OAAM,GAAM,CAACR,IAAI,QAAQI,GAAG,WAAW,MAAO,CAACb,EAAG,OAAO,CAACkB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAkC,GAA3Bd,EAAKG,SAAS,GAAGY,OAA4BC,WAAW,gDAAgDrB,YAAY,OAAOE,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAO5B,EAAI6B,OAAOlB,EAAKS,IAAK,MAAM,CAACpB,EAAIkB,GAAG,UAAUd,EAAG,OAAO,CAACkB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAkC,GAA3Bd,EAAKG,SAAS,GAAGY,OAA4BC,WAAW,gDAAgDrB,YAAY,OAAOE,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAO5B,EAAI8B,IAAInB,EAAKS,IAAK,MAAM,CAACpB,EAAIkB,GAAG,OAAOd,EAAG,IAAI,CAACE,YAAY,oBAAoBe,OAAM,IAAO,MAAK,MAAS,MAAKjB,EAAG,OAAO,CAACE,YAAY,UAAU,CAACN,EAAIkB,GAAG,oBAAoB,GAAGd,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,MAAM,KAAO,MAAM,CAACP,EAAIU,GAAIV,EAAc,YAAE,SAASW,EAAKC,GAAO,OAAOR,EAAG,MAAM,CAACS,IAAID,GAAO,CAACR,EAAG,QAAQ,CAACG,MAAM,CAAC,SAAWI,EAAKG,UAAUC,YAAYf,EAAIgB,GAAG,CAAC,CAACH,IAAI,OAAOI,GAAG,WAAW,MAAO,CAACb,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACN,EAAIkB,GAAGlB,EAAImB,GAAGR,EAAKS,UAAUC,OAAM,GAAM,CAACR,IAAI,QAAQI,GAAG,WAAW,MAAO,CAACb,EAAG,OAAO,CAACE,YAAY,OAAOE,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAO5B,EAAI6B,OAAOlB,EAAKS,IAAK,MAAM,CAACpB,EAAIkB,GAAG,YAAYG,OAAM,IAAO,MAAK,MAAS,MAAKjB,EAAG,OAAO,CAACE,YAAY,UAAU,CAACN,EAAIkB,GAAG,oBAAoB,GAAGd,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,MAAM,KAAO,MAAM,CAACP,EAAIU,GAAIV,EAAc,YAAE,SAASW,EAAKC,GAAO,OAAOR,EAAG,MAAM,CAACS,IAAID,GAAO,CAACR,EAAG,QAAQ,CAACG,MAAM,CAAC,SAAWI,EAAKG,UAAUC,YAAYf,EAAIgB,GAAG,CAAC,CAACH,IAAI,OAAOI,GAAG,WAAW,MAAO,CAACb,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACN,EAAIkB,GAAGlB,EAAImB,GAAGR,EAAKS,UAAUC,OAAM,GAAM,CAACR,IAAI,QAAQI,GAAG,WAAW,MAAO,CAACb,EAAG,OAAO,CAACE,YAAY,OAAOE,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAO5B,EAAI8B,IAAInB,EAAKS,IAAK,MAAM,CAACpB,EAAIkB,GAAG,OAAOd,EAAG,IAAI,CAACE,YAAY,oBAAoBe,OAAM,IAAO,MAAK,MAAS,MAAKjB,EAAG,OAAO,CAACE,YAAY,UAAU,CAACN,EAAIkB,GAAG,oBAAoB,IAAI,IAAI,MACz8Ea,EAAkB,G,gDCmEtB,MACER,KAAM,WACNS,KAFF,WAGI,MAAO,CACLC,EAAG,EACHC,OAAQ,IAGZC,WAAY,CACVC,QAAJ,OACIC,MAAJ,SAVA,oCAaE,MAAF,CACI,WAAJ,GACI,OAAJ,MAfA,uCAoBE,KAAF,eApBA,2BAuBA,CAEE,SAFF,SAEA,GAAI,IAAJ,OAII,KAAJ,OACM,OAAN,MACM,IAAN,aACM,OAAN,CACQ,OAAR,KAGA,kBAEA,oBACQ,EAAR,yBACQ,QAAR,yBAEQ,EAAR,WAKA,mBACM,QAAN,sBAGE,KA5BF,WA8BI,SAAJ,KACM,IAAN,KACA,KAaM,OAZA,EAAN,wBAEA,qBACU,EAAV,MACY,IAAZ,MACY,SAAZ,MAEU,EAAV,aAEU,EAAV,sCAGA,EAEI,KAAJ,+BAIE,OAnDF,SAmDA,KAAI,IAAJ,OACI,KAAJ,OACM,OAAN,OACM,IAAN,WACM,KAAN,CACQ,IAAR,KAGA,kBAEM,EAAN,eAGA,mBACM,QAAN,sBAIE,IArEF,SAqEA,KAAI,IAAJ,OACI,KAAJ,OACM,OAAN,OACM,IAAN,eACM,KAAN,CACQ,IAAR,KAGA,kBAEM,EAAN,eAGA,mBACM,QAAN,wBA1GA,yICpEkV,I,wBCQ9UC,EAAY,eACd,EACAvC,EACAgC,GACA,EACA,KACA,WACA,MAIa,aAAAO,E,oECnBf","file":"js/chunk-1be54166.b94b85d2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"aboutme\"},[_c('div',{staticClass:\"head\"},[_c('BackNav',{attrs:{\"left-arrow\":\"\",\"left-text\":\"返回\",\"title\":\"我的订单\"}})],1),_c('div',{staticClass:\"bg\"}),_c('div',{staticClass:\"body\"},[_c('van-tabs',{attrs:{\"sticky\":\"\",\"animated\":\"\",\"swipeable\":\"\",\"color\":\"#0c34ba\"},on:{\"click\":_vm.orderAll}},[_c('van-tab',{attrs:{\"title\":\"全部\",\"name\":\"0\"}},[_vm._l((_vm.marchOrder),function(item,index){return _c('div',{key:index},[_c('Order',{attrs:{\"goodsArr\":item.children},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('span',{staticClass:\"icon\"},[_vm._v(_vm._s(item.oid))])]},proxy:true},{key:\"right\",fn:function(){return [_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.children[0].status == 1 ? true : false),expression:\"item.children[0].status == 1 ? true : false\"}],staticClass:\"icon\",on:{\"click\":function($event){return _vm.affirm(item.oid, 0)}}},[_vm._v(\"确认收货\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.children[0].status == 2 ? true : false),expression:\"item.children[0].status == 2 ? true : false\"}],staticClass:\"icon\",on:{\"click\":function($event){return _vm.del(item.oid, 0)}}},[_vm._v(\"已完成\"),_c('i',{staticClass:\"bi bi-trash\"})])]},proxy:true}],null,true)})],1)}),_c('span',{staticClass:\"b-text\"},[_vm._v(\"抱歉,没有更多数据了...\")])],2),_c('van-tab',{attrs:{\"title\":\"进行中\",\"name\":\"1\"}},[_vm._l((_vm.marchOrder),function(item,index){return _c('div',{key:index},[_c('Order',{attrs:{\"goodsArr\":item.children},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('span',{staticClass:\"icon\"},[_vm._v(_vm._s(item.oid))])]},proxy:true},{key:\"right\",fn:function(){return [_c('span',{staticClass:\"icon\",on:{\"click\":function($event){return _vm.affirm(item.oid, 1)}}},[_vm._v(\"确认收货\")])]},proxy:true}],null,true)})],1)}),_c('span',{staticClass:\"b-text\"},[_vm._v(\"抱歉,没有更多数据了...\")])],2),_c('van-tab',{attrs:{\"title\":\"已完成\",\"name\":\"2\"}},[_vm._l((_vm.marchOrder),function(item,index){return _c('div',{key:index},[_c('Order',{attrs:{\"goodsArr\":item.children},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('span',{staticClass:\"icon\"},[_vm._v(_vm._s(item.oid))])]},proxy:true},{key:\"right\",fn:function(){return [_c('span',{staticClass:\"icon\",on:{\"click\":function($event){return _vm.del(item.oid, 2)}}},[_vm._v(\"已完成\"),_c('i',{staticClass:\"bi bi-trash\"})])]},proxy:true}],null,true)})],1)}),_c('span',{staticClass:\"b-text\"},[_vm._v(\"抱歉,没有更多数据了...\")])],2)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"aboutme\">\n    <div class=\"head\">\n      <BackNav left-arrow left-text=\"返回\" title=\"我的订单\" />\n    </div>\n    <div class=\"bg\"></div>\n    <div class=\"body\">\n      <van-tabs sticky animated swipeable @click=\"orderAll\" color=\"#0c34ba\">\n        <van-tab title=\"全部\" name=\"0\">\n          <div v-for=\"(item, index) in marchOrder\" :key=\"index\">\n            <Order :goodsArr=\"item.children\">\n              <template v-slot:left>\n                <span class=\"icon\">{{ item.oid }}</span>\n              </template>\n              <template v-slot:right>\n                <span\n                  class=\"icon\"\n                  @click=\"affirm(item.oid, 0)\"\n                  v-show=\"item.children[0].status == 1 ? true : false\"\n                  >确认收货</span\n                >\n                <span\n                  class=\"icon\"\n                  @click=\"del(item.oid, 0)\"\n                  v-show=\"item.children[0].status == 2 ? true : false\"\n                  >已完成<i class=\"bi bi-trash\"></i\n                ></span>\n              </template>\n            </Order>\n          </div>\n          <span class=\"b-text\">抱歉,没有更多数据了...</span>\n        </van-tab>\n        <van-tab title=\"进行中\" name=\"1\">\n          <div v-for=\"(item, index) in marchOrder\" :key=\"index\">\n            <Order :goodsArr=\"item.children\">\n              <template v-slot:left>\n                <span class=\"icon\">{{ item.oid }}</span>\n              </template>\n              <template v-slot:right>\n                <span class=\"icon\" @click=\"affirm(item.oid, 1)\">确认收货</span>\n              </template>\n            </Order>\n          </div>\n          <span class=\"b-text\">抱歉,没有更多数据了...</span>\n        </van-tab>\n        <van-tab title=\"已完成\" name=\"2\">\n          <div v-for=\"(item, index) in marchOrder\" :key=\"index\">\n            <Order :goodsArr=\"item.children\">\n              <template v-slot:left>\n                <span class=\"icon\">{{ item.oid }}</span>\n              </template>\n              <template v-slot:right>\n                <span class=\"icon\" @click=\"del(item.oid, 2)\"\n                  >已完成<i class=\"bi bi-trash\"></i\n                ></span>\n              </template>\n            </Order>\n          </div>\n          <span class=\"b-text\">抱歉,没有更多数据了...</span>\n        </van-tab>\n      </van-tabs>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BackNav from \"../components/BackNav.vue\";\nimport Order from \"../components/Order.vue\";\nexport default {\n  name: \"MeOrders\",\n  data() {\n    return {\n      i: 0,\n      active: 0,\n    };\n  },\n  components: {\n    BackNav,\n    Order,\n  },\n  data() {\n    return {\n      marchOrder: [],\n      isflag: 1,\n \n    };\n  },\n  created() {\n    this.orderAll(0);\n    // this.fulhOrder();\n  },\n  methods: {\n    //订单\n    orderAll(i) {\n      // console.log(i);\n\n      // console.log(\"12\");\n      this.axios({\n        method: \"get\",\n        url: \"/findOrder\",\n        params: {\n          status: i,\n        },\n      })\n        .then((res) => {\n          // console.log(\"res==>\", res);\n          if (res.data.code === 70000) {\n            this.marchOrder = res.data.result;\n            console.log(this.marchOrder.length);\n         \n            this.comm();\n            //找到完成和未完成的数据\n            // 分类\n          }\n        })\n        .catch((err) => {\n          console.log(\"err ==> \", err);\n        });\n    },\n    comm() {\n      //找到订单号分类\n      function fenlei(arr) {\n        let newArr = [];\n        let oids = [];\n        arr.forEach((item, i) => {\n          // console.log(item.oid); // 未找到\n          if (oids.indexOf(item.oid) == -1) {\n            newArr.push({\n              oid: item.oid,\n              children: [item],\n            });\n            oids.push(item.oid);\n          } else {\n            newArr[oids.indexOf(item.oid)].children.push(item);\n          }\n        });\n        return newArr;\n      }\n      this.marchOrder = fenlei(this.marchOrder);\n      // console.log(this.marchOrder);\n    },\n    //确认收货\n    affirm(oid, index) {\n      this.axios({\n        method: \"post\",\n        url: \"/receive\",\n        data: {\n          oid: oid,\n        },\n      })\n        .then((res) => {\n          // console.log(\"res==>\", res);\n          this.orderAll(index);\n          // this.orderAll(0);\n        })\n        .catch((err) => {\n          console.log(\"err ==> \", err);\n        });\n    },\n    // 删除订单\n    del(oid, index) {\n      this.axios({\n        method: \"post\",\n        url: \"/removeOrder\",\n        data: {\n          oid: oid,\n        },\n      })\n        .then((res) => {\n          // console.log(\"res==>\", res);\n          this.orderAll(index);\n          // this.orderAll(0);\n        })\n        .catch((err) => {\n          console.log(\"err ==> \", err);\n        });\n    },\n  },\n  mounted() {},\n  beforeUpdate() {\n    // this.pocketAll();\n  },\n  updated() {\n    // this.pocketAll();\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.aboutme {\n  width: 100%;\n  .bg {\n    width: 100%;\n    height: 150px;\n    background-color: #0c34ba;\n  }\n  .body {\n    padding: 0 10px;\n    margin-top: -20px;\n    .b-text {\n      display: block;\n      font-size: 14px;\n      color: #999;\n      text-align: center;\n      margin: 50px auto;\n    }\n  }\n}\n/deep/ .van-tabs__wrap {\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n}\n\n/deep/ .van-tabs__content {\n  margin-top: 10px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MeOrders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MeOrders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MeOrders.vue?vue&type=template&id=b39c9afa&scoped=true&\"\nimport script from \"./MeOrders.vue?vue&type=script&lang=js&\"\nexport * from \"./MeOrders.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MeOrders.vue?vue&type=style&index=0&id=b39c9afa&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b39c9afa\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MeOrders.vue?vue&type=style&index=0&id=b39c9afa&lang=less&scoped=true&\""],"sourceRoot":""}